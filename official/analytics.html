<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Analytics & Transparency - Road Damage Detection</title>
    <link rel="stylesheet" href="../shared/styles.css">
    <link rel="stylesheet" href="styles/analytics.css">
</head>
<body>
    <!-- Top Bar -->
    <div class="top-bar">
        <h1>Analytics & Transparency</h1>
        <div class="profile-icon" onclick="showAlert('Profile', 'Profile menu options', 'info')">üë§</div>
    </div>

    <!-- Navigation -->
    <nav class="nav-bar">
        <a href="dashboard.html" class="nav-link">Dashboard</a>
        <a href="verification.html" class="nav-link">Verify Reports</a>
        <a href="assignment.html" class="nav-link">Assign Work</a>
        <a href="monitoring.html" class="nav-link">Monitor Work</a>
        <a href="analytics.html" class="nav-link active">Analytics</a>
    </nav>

    <!-- Main Content -->
    <div class="container">
        <!-- Filters -->
        <div class="analytics-filters">
            <h2>Filters</h2>
            <div class="filters-grid">
                <div class="form-group">
                    <label class="form-label">Time Period</label>
                    <select class="form-select" id="timeFilter" onchange="updateAnalytics()">
                        <option value="last-month">Last Month</option>
                        <option value="last-3-months" selected>Last 3 Months</option>
                        <option value="last-6-months">Last 6 Months</option>
                        <option value="last-year">Last Year</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">Sector</label>
                    <select class="form-select" id="sectorFilter" onchange="updateAnalytics()">
                        <option value="">All Sectors</option>
                        <option value="sector1">Sector 1</option>
                        <option value="sector2">Sector 2</option>
                        <option value="sector3">Sector 3</option>
                        <option value="sector4">Sector 4</option>
                    </select>
                </div>
                <div class="form-group">
                    <button class="btn btn-secondary" onclick="exportReport()">Export Report</button>
                </div>
            </div>
        </div>

        <!-- Heatmap Placeholder -->
        <div class="analytics-section">
            <h2>Damage Heatmap</h2>
            <div class="card">
                <div class="heatmap-placeholder">
                    <div class="placeholder-icon">üó∫Ô∏è</div>
                    <p>Interactive heatmap showing damage density across the city</p>
                    <p class="placeholder-note">(Map visualization would be integrated here)</p>
                </div>
            </div>
        </div>

        <!-- Charts Grid -->
        <div class="charts-grid">
            <!-- Repair Time Chart -->
            <div class="analytics-section">
                <h2>Average Repair Time</h2>
                <div class="card">
                    <div class="chart-placeholder">
                        <div class="chart-bars">
                            <div class="chart-bar" style="height: 60%;" title="Sector 1: 3.2 days"></div>
                            <div class="chart-bar" style="height: 45%;" title="Sector 2: 2.4 days"></div>
                            <div class="chart-bar" style="height: 80%;" title="Sector 3: 4.1 days"></div>
                            <div class="chart-bar" style="height: 35%;" title="Sector 4: 1.8 days"></div>
                        </div>
                        <div class="chart-labels">
                            <span>Sector 1</span>
                            <span>Sector 2</span>
                            <span>Sector 3</span>
                            <span>Sector 4</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Contractor Performance Chart -->
            <div class="analytics-section">
                <h2>Contractor Performance</h2>
                <div class="card">
                    <div class="chart-placeholder">
                        <div class="performance-list">
                            <div class="performance-item">
                                <span class="contractor-name">ABC Road Construction</span>
                                <div class="performance-bar">
                                    <div class="performance-fill" style="width: 92%;"></div>
                                </div>
                                <span class="performance-score">92%</span>
                            </div>
                            <div class="performance-item">
                                <span class="contractor-name">QuickFix Contractors</span>
                                <div class="performance-bar">
                                    <div class="performance-fill" style="width: 88%;"></div>
                                </div>
                                <span class="performance-score">88%</span>
                            </div>
                            <div class="performance-item">
                                <span class="contractor-name">XYZ Infrastructure</span>
                                <div class="performance-bar">
                                    <div class="performance-fill" style="width: 85%;"></div>
                                </div>
                                <span class="performance-score">85%</span>
                            </div>
                            <div class="performance-item">
                                <span class="contractor-name">City Builders</span>
                                <div class="performance-bar">
                                    <div class="performance-fill" style="width: 78%;"></div>
                                </div>
                                <span class="performance-score">78%</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Road Health Index -->
        <div class="analytics-section">
            <h2>Road Health Index by Sector</h2>
            <div class="card">
                <div class="health-index-grid">
                    <div class="health-index-card">
                        <div class="health-index-value" style="color: #28a745;">8.5</div>
                        <div class="health-index-label">Sector 1</div>
                        <div class="health-index-status">Good</div>
                    </div>
                    <div class="health-index-card">
                        <div class="health-index-value" style="color: #ffc107;">7.2</div>
                        <div class="health-index-label">Sector 2</div>
                        <div class="health-index-status">Fair</div>
                    </div>
                    <div class="health-index-card">
                        <div class="health-index-value" style="color: #dc3545;">5.8</div>
                        <div class="health-index-label">Sector 3</div>
                        <div class="health-index-status">Poor</div>
                    </div>
                    <div class="health-index-card">
                        <div class="health-index-value" style="color: #28a745;">8.9</div>
                        <div class="health-index-label">Sector 4</div>
                        <div class="health-index-status">Excellent</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Summary Statistics -->
        <div class="analytics-section">
            <h2>Summary Statistics</h2>
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-value">156</div>
                    <div class="stat-label">Total Reports (3 months)</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">142</div>
                    <div class="stat-label">Completed Repairs</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">2.8 days</div>
                    <div class="stat-label">Avg. Repair Time</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">‚Çπ2.4M</div>
                    <div class="stat-label">Total Spent</div>
                </div>
            </div>
        </div>
    </div>

    <script src="../shared/navigation.js"></script>
    <script src="../shared/modal.js"></script>
    <script src="scripts/analytics.js"></script>
</body>
</html>
